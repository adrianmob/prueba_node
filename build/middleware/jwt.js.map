{"version":3,"sources":["../../src/middleware/jwt.js"],"names":["verifyToken","req","res","next","token","headers","console","log","status","json","message","decoded","jwt","verify","userId","id"],"mappings":";;;;;;;;;;;;;AAAA;;AACO,IAAMA,WAAW;AAAA,2FAAG,iBAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEjBC,YAAAA,KAFiB,GAETH,GAAG,CAACI,OAAJ,CAAY,gBAAZ,CAFS;AAGvBC,YAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;;AAHuB,gBAIlBA,KAJkB;AAAA;AAAA;AAAA;;AAAA,6CAIJF,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,cAAAA,OAAO,EAAE;AAAX,aAArB,CAJI;;AAAA;AAMjBC,YAAAA,OANiB,GAMPC,yBAAIC,MAAJ,CAAWT,KAAX,EAAkB,UAAlB,CANO;AAOvBH,YAAAA,GAAG,CAACa,MAAJ,GAAaH,OAAO,CAACI,EAArB;AACAZ,YAAAA,IAAI;AARmB;AAAA;;AAAA;AAAA;AAAA;AAAA,6CAUhBD,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,cAAAA,OAAO,EAAE;AAAX,aAArB,CAVgB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAXV,WAAW;AAAA;AAAA;AAAA,GAAjB","sourcesContent":["import jwt from \"jsonwebtoken\";\nexport const verifyToken = async (req, res, next) => {\n  try {\n    const token = req.headers[\"x-access-token\"];\n    console.log(token);\n    if (!token) return res.status(403).json({ message: \"no token provided\" });\n\n    const decoded = jwt.verify(token, \"api-auth\");\n    req.userId = decoded.id;\n    next();\n  } catch (error) {\n    return res.status(401).json({ message: \"Unauthorized\" });\n  }\n};\n"],"file":"jwt.js"}